def authorizationManager = container.lookup(org.sonatype.nexus.security.authz.AuthorizationManager.class.name)
def role = new org.sonatype.nexus.security.role.Role()

role.roleId = '<%= resource[:name] %>'
role.name = '<%= resource[:name] %>'

<%= Puppet::Provider::Nexus3Utils.render_template(templates_folder, 'set_attributes.erb', resource) %>

authorizationManager.addRole(role)
